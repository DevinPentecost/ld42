[gd_scene load_steps=24 format=2]

[ext_resource path="res://objects/kennel/kennel.dae" type="PackedScene" id=1]
[ext_resource path="res://objects/dog/dog.dae" type="PackedScene" id=2]
[ext_resource path="res://objects/kennel/bowl.dae" type="PackedScene" id=3]
[ext_resource path="res://objects/food_bucket/bucket.dae" type="PackedScene" id=4]
[ext_resource path="res://objects/decor/broom.dae" type="PackedScene" id=5]
[ext_resource path="res://objects/kennel/mat.dae" type="PackedScene" id=6]
[ext_resource path="res://objects/player/char.dae" type="PackedScene" id=7]
[ext_resource path="res://objects/decor/counter.dae" type="PackedScene" id=8]
[ext_resource path="res://objects/decor/clipboard.dae" type="PackedScene" id=9]
[ext_resource path="res://objects/decor/chair.dae" type="PackedScene" id=10]
[ext_resource path="res://objects/decor/radio.dae" type="PackedScene" id=11]
[ext_resource path="res://maps/Swinging Pants.ogg" type="AudioStream" id=12]
[ext_resource path="res://objects/decor/plant.dae" type="PackedScene" id=13]
[ext_resource path="res://objects/decor/plant2.dae" type="PackedScene" id=14]
[ext_resource path="res://objects/decor/door.dae" type="PackedScene" id=15]
[ext_resource path="res://objects/decor/clock.dae" type="PackedScene" id=16]
[ext_resource path="res://objects/decor/window.dae" type="PackedScene" id=17]
[ext_resource path="res://objects/decor/window2.dae" type="PackedScene" id=18]
[ext_resource path="res://objects/decor/picture.dae" type="PackedScene" id=19]
[ext_resource path="res://objects/ui/TutorialDialog.tscn" type="PackedScene" id=20]

[sub_resource type="GDScript" id=1]

script/source = "extends Node

# class member variables go here, for example:
# var a = 2
# var b = \"textvar\"

func _ready():
	# Called when the node is added to the scene for the first time.
	# Initialization here	
	pass


func _start_tutorial():
	#Get it going
	$PopupDialog.popup_centered(Vector2(50, 50))
	$PopupDialog.show_next_tutorial()

func _on_TutorialButton_pressed():
	
	#Prod the tutorial
	_start_tutorial()

func _on_PlayButton_pressed():
	#Switch to the other scene
	pass # replace with function body
"

[sub_resource type="GDScript" id=2]

script/source = "extends Spatial

# class member variables go here, for example:
# var a = 2
# var b = \"textvar\"

func _ready():
	# Called when the node is added to the scene for the first time.
	# Initialization here
	$AnimationPlayer.play(\"sit\")
	
	pass
"

[sub_resource type="GDScript" id=3]

script/source = "extends Spatial
tool
# class member variables go here, for example:
# var a = 2
# var b = \"textvar\"

func _ready():
	# Called when the node is added to the scene for the first time.
	# Initialization here
	
	$AnimationPlayer.play(\"idle\")
	pass

#func _process(delta):
#	# Called every frame. Delta is time since last frame.
#	# Update game logic here.
#	pass
"

[node name="StartScreen" type="Node"]

script = SubResource( 1 )

[node name="Camera" type="Camera" parent="." index="0" groups=[
"camera",
]]

transform = Transform( 0.597322, 0.396212, -0.697297, 0, 0.869445, 0.494029, 0.802002, -0.295095, 0.519338, -0.165882, 5.51998, 6.57832 )
keep_aspect = 1
cull_mask = 1048575
environment = null
h_offset = 0.0
v_offset = 0.0
doppler_tracking = 0
projection = 0
current = false
fov = 70.0
size = 11.83
near = 0.05
far = 100.0

[node name="Kennel" parent="." index="1" instance=ExtResource( 1 )]

_sections_unfolded = [ "Transform" ]

[node name="Dog" parent="Kennel" index="2" instance=ExtResource( 2 )]

transform = Transform( 0.249479, -3.30461e-09, 0.177938, 6.48826e-10, 0.306434, 4.7813e-09, -0.177938, -3.51588e-09, 0.249479, 0, 0, 0 )
script = SubResource( 2 )

[node name="Bowl" parent="Kennel" index="3" instance=ExtResource( 3 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.27002, 0, -2.12538 )

[node name="Bucket" parent="Kennel" index="4" instance=ExtResource( 4 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.9417, 0, 1.44904 )

[node name="Scene Root2" parent="Kennel" index="5" instance=ExtResource( 5 )]

transform = Transform( 0.710878, -0.176761, 0.680741, 0, 0.967903, 0.251325, -0.703315, -0.178661, 0.688061, 2.40882, 0, -1.39881 )

[node name="Scene Root3" parent="Kennel" index="6" instance=ExtResource( 6 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.06846, 0, 0 )

[node name="Desk" type="Spatial" parent="." index="2"]

_sections_unfolded = [ "Transform" ]

[node name="Person" parent="Desk" index="0" instance=ExtResource( 7 )]

transform = Transform( 0.176521, 0, -0.573446, 0, 0.6, 0, 0.573446, 0, 0.176521, 11.3284, -1, 2.92039 )
script = SubResource( 3 )

[node name="Scene Root" parent="Desk" index="1" instance=ExtResource( 8 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0 )
_sections_unfolded = [ "Transform" ]

[node name="Scene Root" parent="Desk/Scene Root" index="2" instance=ExtResource( 9 )]

transform = Transform( 0.965926, 0.258819, 1.13133e-08, 0, -4.37114e-08, 1, 0.258819, -0.965926, -4.2222e-08, -0.696777, 1.56013, 0.563708 )

[node name="Scene Root2" parent="Desk" index="2" instance=ExtResource( 8 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 3 )
_sections_unfolded = [ "Transform" ]

[node name="Scene Root3" parent="Desk" index="3" instance=ExtResource( 8 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 6 )
_sections_unfolded = [ "Transform" ]

[node name="Scene Root4" parent="Desk" index="4" instance=ExtResource( 8 )]

transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 10, 0, 6 )
_sections_unfolded = [ "Transform" ]

[node name="Scene Root5" parent="Desk" index="5" instance=ExtResource( 10 )]

transform = Transform( -0.0287897, 0, -0.999585, 0, 1, 0, 0.999585, 0, -0.0287897, 12.1547, -0.443547, 2.83291 )

[node name="Radio" parent="Desk" index="6" instance=ExtResource( 11 )]

transform = Transform( 0.642788, 0, -0.766044, 0, 1, 0, 0.766044, 0, 0.642788, 7.61985, 1.5963, 2 )

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Desk/Radio" index="2"]

stream = ExtResource( 12 )
attenuation_model = 0
unit_db = -10.0
unit_size = 1.0
max_db = 3.0
pitch_scale = 1.0
autoplay = true
max_distance = 0.0
out_of_range_mode = 0
bus = "Master"
area_mask = 1
emission_angle_enabled = false
emission_angle_degrees = 45.0
emission_angle_filter_attenuation_db = -12.0
attenuation_filter_cutoff_hz = 5000.0
attenuation_filter_db = -24.0
doppler_tracking = 0

[node name="Scene Root7" parent="Desk" index="7" instance=ExtResource( 13 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.7475, 0.502575, 6.40591 )

[node name="Scene Root8" parent="Desk" index="8" instance=ExtResource( 14 )]

transform = Transform( 0.572652, 0, 0, 0, 0.572652, 0, 0, 0, 0.572652, 8.44531, -0.508455, 7.91921 )

[node name="DoorWall" type="Spatial" parent="." index="3"]

editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -2 )

[node name="Scene Root" parent="DoorWall" index="0" instance=ExtResource( 15 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.03162, 0, 0 )

[node name="Scene Root2" parent="DoorWall" index="1" instance=ExtResource( 16 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, 0 )

[node name="Scene Root3" parent="DoorWall" index="2" instance=ExtResource( 17 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0.459382, 0 )

[node name="BackWall" type="Spatial" parent="." index="4"]

editor/display_folded = true
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 15, 0, 2 )

[node name="Scene Root" parent="BackWall" index="0" instance=ExtResource( 18 )]

_sections_unfolded = [ "Transform" ]

[node name="Scene Root2" parent="BackWall" index="1" instance=ExtResource( 19 )]

transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0 )

[node name="PopupDialog" parent="." index="5" instance=ExtResource( 20 )]

visible = false
tutorial_targets = [ NodePath("../Desk/Person"), NodePath("../Kennel/Bucket"), NodePath("../Kennel/Dog") ]
tutorial_texts = [ "You work at a No-Kill Shelter. Move around and keep the dogs fed to have them adopted.
Move with the arrow keys, or WASD/IJKL", "This bucket will refill your food, so if you run out make sure to load up!
You can grab food and feed dogs with the action keys: Shift, Space, or Enter", "Feed dogs when they are hungry to keep them happy!
New dogs will constantly appear in kennels, so make sure to keep an eye out for new hungry pups.
If you run out of kennels, you'll lose the game!" ]

[node name="TutorialButton" type="Button" parent="." index="6"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 12.0
margin_bottom = 20.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
focus_mode = 2
mouse_filter = 0
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
group = null
text = "How to Play"
flat = false
align = 1

[node name="PlayButton" type="Button" parent="." index="7"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 12.0
margin_bottom = 20.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
focus_mode = 2
mouse_filter = 0
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
group = null
flat = false
align = 1

[connection signal="pressed" from="TutorialButton" to="." method="_on_TutorialButton_pressed"]

[connection signal="pressed" from="PlayButton" to="." method="_on_PlayButton_pressed"]


